<form class="expense-form" #expenseForm="ngForm" (ngSubmit)="saveChanges()">
  <fieldset>
    <legend><strong>Expense Information</strong></legend>
    <div class="form-group">
      <label for="nature">Expense Nature</label>
      <div class="radio-group">
        <label class="radio-label" for="restaurant">
          <input
            type="radio"
            [(ngModel)]="expense.nature"
            name="nature"
            id="restaurant"
            value="restaurant"
            aria-labelledby="restaurant-label"
          />
          <span role="presentation" aria-hidden="true">üçΩÔ∏è</span>
          <span class="sr-only" id="restaurant-label">Restaurant</span>
        </label>
        <label class="radio-label" for="trip">
          <input
            type="radio"
            [(ngModel)]="expense.nature"
            name="nature"
            id="trip"
            value="trip"
            aria-labelledby="trip-label"
          />
          <span role="presentation" aria-hidden="true">‚úàÔ∏è</span>
          <span class="sr-only" id="trip-label">Trip</span>
        </label>
      </div>
    </div>
    <div class="conditional-fields" *ngIf="expense.nature === 'restaurant'">
      <div class="form-group">
        <label for="invites">Number of Invites</label>
        <input
          type="number"
          [(ngModel)]="expense.invites"
          name="invites"
          placeholder="Enter number of invites"
          aria-label="Invites"
          required
          min="0"
        />
      </div>
    </div>
    <div class="conditional-fields" *ngIf="expense.nature === 'trip'">
      <div class="form-group">
        <label for="distance">Trip Distance (in km)</label>
        <input
          type="number"
          [(ngModel)]="expense.distance"
          name="distance"
          placeholder="Enter trip distance"
          aria-label="Distance"
          required
          min="1"
        />
      </div>
    </div>
    <div class="form-group">
      <label for="amount">Amount</label>
      <input
        type="number"
        [(ngModel)]="expense.amount"
        name="amount"
        placeholder="Enter amount"
        aria-label="Amount"
        required
        min="0.01"
      />
    </div>
    <div class="form-group">
      <label for="comment">Comment</label>
      <textarea
        [(ngModel)]="expense.comment"
        name="comment"
        placeholder="Add a detailed comment about the expense..."
        aria-label="Comment"
      ></textarea>
    </div>
    <mat-form-field class="date-field">
      <mat-label for="purchasedOn">Purchased On</mat-label>
      <input
        matInput
        [matDatepicker]="purchasedDatePicker"
        [(ngModel)]="expense.purchasedOn"
        name="purchasedOn"
        (ngModelChange)="expense.purchasedOn = formatDatePickerValue($event)"
        aria-label="Purchased On"
        required
      />
      <mat-datepicker-toggle
        matSuffix
        [for]="purchasedDatePicker"
        aria-label="Toggle Datepicker"
      ></mat-datepicker-toggle>
      <mat-datepicker #purchasedDatePicker></mat-datepicker>
    </mat-form-field>
  </fieldset>
  <div class="button-group">
    <button
      type="button"
      (click)="saveChanges()"
      class="save-button"
      aria-label="Save"
      [disabled]="!expenseForm.valid"
    >
      Save Changes
    </button>
    <button
      type="button"
      (click)="cancelEdit()"
      class="cancel-button"
      aria-label="Cancel"
    >
      Cancel
    </button>
  </div>
</form>
